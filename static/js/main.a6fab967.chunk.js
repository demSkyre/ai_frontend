(this["webpackJsonpui-products"]=this["webpackJsonpui-products"]||[]).push([[0],{40:function(e,t,a){e.exports=a(97)},45:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),c=a.n(r),i=(a(45),a(46),a(47),a(48),a(38)),o=a(7),u=a(32),s=a(33),d=a(11),m=a.n(d),f=function(){function e(){Object(u.a)(this,e),this.baseUrl="https://skyre-rest-api.herokuapp.com/api/pacientes/"}return Object(s.a)(e,[{key:"create",value:function(e){return m.a.post(this.baseUrl+"paciente/",e).then((function(e){return e.data}))}},{key:"readAll",value:function(){return m.a.get(this.baseUrl).then((function(e){return e.data}))}},{key:"update",value:function(e){return m.a.put(this.baseUrl+"paciente/"+e._id,e).then((function(e){return e.data}))}},{key:"delete",value:function(e){return m.a.delete(this.baseUrl+"paciente/"+e).then((function(e){return e.data}))}}]),e}(),b=Object(n.createContext)(),h=function(e){var t=new f,a=Object(n.useState)([]),r=Object(o.a)(a,2),c=r[0],u=r[1],s=Object(n.useState)(null),d=Object(o.a)(s,2),m=d[0],h=d[1];Object(n.useEffect)((function(){t.readAll().then((function(e){return u(e)}))}),[t,c]);return l.a.createElement(b.Provider,{value:{createPaciente:function(e){t.create(e).then((function(e){return u([].concat(Object(i.a)(c),[e]))}))},deletePaciente:function(e){t.delete(e).then((function(){return u(c.filter((function(t){return t._id!==e})))}))},findPaciente:function(e){var t=c.find((function(t){return t._id===e}));h(t)},updatePaciente:function(e){t.update(e).then((function(t){return u(c.map((function(a){return a._id===e._id?t:e})))})),h(null)},editPaciente:m,pacientes:c}},e.children)},p=a(34),E=a(35),v=a(8),g=a(10),j=a(14),O=a(36),C=a(37),_=a(16),y=a(17),k=function(e){var t=e.isVisible,a=e.setIsVisible,r=Object(n.useContext)(b),c=r.createPaciente,i=r.deletePaciente,u=r.editPaciente,s=r.updatePaciente,d={_id:null,nombres:"",apellidos:"",fecha_alta:null,fecha_baja:null},m=Object(n.useState)(d),f=Object(o.a)(m,2),h=f[0],p=f[1];Object(n.useEffect)((function(){u&&p(u)}),[u]);var E=function(e,t){p(Object(O.a)({},h,Object(j.a)({},t,e))),console.log(h)},v=l.a.createElement("div",{className:"ui-dialog-buttonpane p-clearfix"},l.a.createElement(g.Button,{label:"Delete",icon:"pi pi-times",onClick:function(){u&&(i(h._id),p(d)),a(!1)}}),l.a.createElement(g.Button,{label:"Save",icon:"pi pi-check",onClick:function(){u?s(h):c(h),p(d),a(!1)}}));return l.a.createElement("div",null,l.a.createElement(C.Dialog,{visible:t,modal:!0,style:{width:"420px"},contentStyle:{overflow:"visible"},header:"Detalles del Paciente",onHide:function(){return a(!1),void p(d)},footer:v},l.a.createElement("div",{className:"p-grid p-fluid"},l.a.createElement("br",null),l.a.createElement("div",{className:"p-float-label"},l.a.createElement(_.InputText,{value:h.nombres,onChange:function(e){return E(e.target.value.trim(),"nombres")}}),l.a.createElement("label",null,"Nombres:")),l.a.createElement("br",null),l.a.createElement("div",{className:"p-float-label"},l.a.createElement(_.InputText,{value:h.apellidos,onChange:function(e){return E(e.target.value.trim(),"apellidos")}}),l.a.createElement("label",null,"Apellidos:")),l.a.createElement("br",null),l.a.createElement("div",{className:"p-float-label"},l.a.createElement(y.Calendar,{value:h.fecha_alta&&new Date(h.fecha_alta+" "),onChange:function(e){return E(e.target.value.toISOString().substring(0,10),"fecha_alta")},dateFormat:"yy-mm-dd"}),l.a.createElement("label",null,"Fecha de alta:")),l.a.createElement("br",null),l.a.createElement("div",{className:"p-float-label"},l.a.createElement(y.Calendar,{value:h.fecha_baja&&new Date(h.fecha_baja+" "),onChange:function(e){return E(e.target.value.toISOString().substring(0,10),"fecha_baja")},dateFormat:"yy-mm-dd"}),l.a.createElement("label",null,"Fecha de baja:")),l.a.createElement("br",null))))},w=function(){var e=Object(n.useContext)(b),t=e.pacientes,a=e.findPaciente,r=Object(n.useState)(!1),c=Object(o.a)(r,2),i=c[0],u=c[1],s=l.a.createElement("div",{className:"p-clearfix",style:{width:"100%"}},l.a.createElement(g.Button,{style:{float:"left"},icon:"pi pi-plus",label:"Add",onClick:function(){return u(!0)}}));return l.a.createElement("div",null,l.a.createElement(p.Panel,{header:"LISTA DE PACIENTES",style:{textAlign:"center"}},l.a.createElement(E.DataTable,{value:t,selectionMode:"single",onSelectionChange:function(e){return t=e.value._id,a(t),void u(!0);var t},footer:s},l.a.createElement(v.Column,{field:"_id",header:"Id"}),l.a.createElement(v.Column,{field:"nombres",header:"Nombres"}),l.a.createElement(v.Column,{field:"apellidos",header:"Apellidos"}),l.a.createElement(v.Column,{field:"fecha_alta",header:"Fecha de Alta"}),l.a.createElement(v.Column,{field:"fecha_baja",header:"Fecha de Baja"}))),l.a.createElement(k,{isVisible:i,setIsVisible:u}))};var P=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(h,null,l.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.a6fab967.chunk.js.map